(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2918],{51672:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorial/image-picker",function(){return c(5340)}])},79475:function(c,a,b){"use strict";b.d(a,{Y:function(){return d},Z:function(){return e}});var d="https://snack.expo.dev";function e(a){var c=a.templateId,d=a.code,e=a.files,f=a.baseURL,b={};return e&&Object.keys(e).forEach(function(a){var c=e[a];/\.(jsx?|tsx?|json|md)$/i.test(a)?b[a]={type:"CODE",url:c.match(/^https?:\/\//)?c:"".concat(f,"/").concat(c)}:b[a]={type:"ASSET",contents:c}}),c?b["App.js"]={type:"CODE",url:"".concat(f,"/").concat(c,".js")}:d&&(b["App.js"]={type:"CODE",contents:d}),b}},67394:function(f,c,a){"use strict";a.d(c,{Z:function(){return b}});var g=a(51438),h=a(88029),i=a(29815),j=a(82337),k=a(35944),l=a(4903),d=a(67294),m=a(79475),e=a(72093),n=a(48192),o="v".concat(a(4147).i8),b=function(c){(0,h.Z)(a,c);var e=(0,j.Z)(a);function a(){var b;return(0,g.Z)(this,a),b=e.apply(this,arguments),b.contentRef=d.createRef(),b.state={ready:!1},b.getSelectedDocsVersion=function(){var a=b.context.version;return"latest"===a?o:a},b.getSnackSdkVersion=function(){var a=b.getSelectedDocsVersion();return"unversioned"===a&&(a=o),a.replace("v","")},b.getExamplesPath=function(){return"".concat(document.location.origin,"/static/examples/").concat(b.getSelectedDocsVersion())},b.getDependencies=function(){return(0,i.Z)(b.props.dependencies).join(",")},b.getCode=function(){return(b.contentRef.current&&b.contentRef.current.textContent||"").replace(/%%placeholder-start%%.*%%placeholder-end%%/g,"")},b}var b=a.prototype;return b.componentDidMount=function(){this.setState({ready:!0})},b.render=function(){return(0,k.BX)("div",{style:{marginBottom:l.spacing[4]},children:[(0,k.tZ)("div",{ref:this.contentRef,style:this.props.contentHidden?{display:"none"}:void 0,children:this.props.children}),(0,k.BX)("form",{action:m.Y,method:"POST",target:"_blank",children:[(0,k.tZ)("input",{type:"hidden",name:"platform",value:this.props.defaultPlatform||"android"}),(0,k.tZ)("input",{type:"hidden",name:"name",value:this.props.label||"Example"}),(0,k.tZ)("input",{type:"hidden",name:"dependencies",value:this.getDependencies()}),(0,k.tZ)("input",{type:"hidden",name:"sdkVersion",value:this.getSnackSdkVersion()}),this.props.platforms&&(0,k.tZ)("input",{type:"hidden",name:"supportedPlatforms",value:this.props.platforms.join(",")}),this.state.ready&&(0,k.tZ)("input",{type:"hidden",name:"files",value:JSON.stringify((0,m.Z)({templateId:this.props.templateId,code:this.getCode(),files:this.props.files,baseURL:this.getExamplesPath()}))}),(0,k.tZ)(n.z,{disabled:!this.state.ready,iconRight:(0,k.tZ)(l.ArrowUpRightIcon,{color:l.theme.palette.white}),type:"submit",children:this.props.buttonTitle||"Try this example on Snack"})]})]})},a}(d.Component);b.contextType=e.m$,b.defaultProps={dependencies:[]}},6551:function(f,d,a){"use strict";var b,c,g=a(35944),h=a(67294),i=a(14926),e=a(33082),j=a.n(e),k=(b=!1,c=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(c.substr(0,4)))&&(b=!0),b);d.Z=function(a){var b,m=a.controls,f=a.spaceAfter,n=a.url,o=a.file,c=a.loop,p=void 0===c||c,d=(0,h.useState)(!1),l=d[0],q=d[1],e=(0,h.useState)(!1),r=e[0],s=e[1],t=(b=f,void 0===b?30:"number"==typeof b?b:b?50:0);return(0,g.tZ)("div",{onClick:function(){void 0!==m||r||s(!0)},style:l?{cursor:"pointer"}:void 0,onMouseEnter:function(){return q(!0)},onMouseLeave:function(){return q(!1)},children:(0,g.tZ)(j(),{partialVisibility:k,children:function(b){var a=b.isVisible;return(0,g.BX)("div",{style:{position:"relative",width:"100%",height:400,backgroundColor:"#000",marginBottom:t},children:[(0,g.tZ)(i.ZP,{url:a||!k?n||"/static/videos/".concat(o):null,className:"react-player",width:"100%",height:"400px",style:{outline:"none",backgroundColor:"#000",borderRadius:5},muted:!0,playing:a,controls:void 0===m?r:m,playsinline:!0,loop:p}),k?null:(0,g.tZ)("div",{style:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,backgroundColor:"#000",width:"100%",height:400,opacity:a?0:.7,transition:"opacity 0.5s ease-out"}})]})}})})}},18722:function(e,d,c){"use strict";c.d(d,{o:function(){return A}});var f=c(35944),b=c(70917),a=c(4903),g=c(67294),h=function(a){var d=a.children,e=a.style,c=a.includeMargin;return(0,f.tZ)("div",{css:[i,(void 0===c||c)&&j,(0,b.iv)(e)],children:d})},i=(0,b.iv)({display:"flex",flexDirection:"column"}),j=(0,b.iv)({marginBottom:a.spacing[4]}),k=function(a){var d=a.children,b=a.alwaysDark,c=a.hideOverflow;return(0,f.tZ)("div",{css:[l,void 0!==b&&b&&m,void 0!==c&&c&&n],children:d})},l=(0,b.iv)("background-color:",a.theme.palette.black,";border:1px solid ",a.theme.border.default,";border-bottom-left-radius:",a.borderRadius.medium,"px;border-bottom-right-radius:",a.borderRadius.medium,"px;padding:",a.spacing[4],"px;overflow-x:auto;code{padding-left:0;padding-right:0;}"),m=(0,b.iv)("border-color:transparent;white-space:nowrap;"),n=(0,b.iv)("overflow:hidden;code{white-space:nowrap;}"),o=c(69036),p=function(b){var g=b.title,c=b.children,d=b.alwaysDark,e=void 0!==d&&d;return(0,f.BX)("div",{css:[q,e&&r],children:[(0,f.tZ)(o.GP,{css:[s,e&&{color:a.darkTheme.text.default}],children:g}),!!c&&(0,f.tZ)("div",{css:t,children:c})]})},q=(0,b.iv)("background-color:",a.theme.background.default,";border:1px solid ",a.theme.border.default,";border-bottom:none;border-top-left-radius:",a.borderRadius.medium,"px;border-top-right-radius:",a.borderRadius.medium,"px;display:flex;padding:0 8px 0 16px;justify-content:space-between;min-height:42px;"),r=(0,b.iv)("background-color:",a.darkTheme.background.tertiary,";border-color:transparent;"),s=(0,b.iv)("line-height:42px !important;user-select:none;"),t=(0,b.iv)("display:flex;justify-content:flex-end;align-items:center;"),u=c(26042),v=c(69396),w=c(99534),x=c(48192),y=function(b){var h=b.children,c=b.icon,d=b.alwaysDark,e=void 0!==d&&d,i=(0,w.Z)(b,["children","icon","alwaysDark"]),j={color:e?a.darkTheme.text.default:void 0,size:a.iconSize.small},k=c&&g.cloneElement(c,j);return(0,f.tZ)(x.z,(0,v.Z)((0,u.Z)({size:"mini",theme:"transparent",icon:k},i),{children:(0,f.tZ)(o.u5,{css:e&&{color:a.darkTheme.text.default},children:h})}))},z=function(b){var h=b.text,e=(0,w.Z)(b,["text"]),c=(0,g.useState)(!1),d=c[0],i=c[1];return(0,f.tZ)(y,(0,v.Z)((0,u.Z)({icon:(0,f.tZ)(a.ClipboardIcon,{}),onClick:function(){var a;null===(a=navigator.clipboard)|| void 0===a||a.writeText(h),i(!0),setTimeout(function(){return i(!1)},1500)},disabled:d},e),{children:d?"Copied!":"Copy"}))},A=function(a){var b=a.cmd,e=a.cmdCopy,g=a.hideOverflow,c=a.includeMargin,d=a.title;return(0,f.BX)(h,{style:D,includeMargin:void 0===c||c,children:[(0,f.tZ)(p,{alwaysDark:!0,title:void 0===d?"Terminal":d,children:B({cmd:b,cmdCopy:e})}),(0,f.tZ)(k,{alwaysDark:!0,hideOverflow:g,children:b.map(C)})]})};function B(a){var c=a.cmd,d=a.cmdCopy,b=d||function(b){var a=b.filter(function(a){return!a.startsWith("#")&&""!==a});if(1===a.length)return a[0].startsWith("$")?a[0].slice(2):a[0]}(c);return b&&(0,f.tZ)(z,{alwaysDark:!0,text:b})}function C(b,d){var c="line-".concat(d);return""===b.trim()?(0,f.tZ)("br",{css:E},c):b.startsWith("#")?(0,f.tZ)(o.cO,{css:[F,E,{color:a.darkTheme.code.comment}],children:b},c):b.startsWith("$")?(0,f.BX)("div",{children:[(0,f.tZ)(o.cO,{css:[F,E,{display:"inline",color:a.darkTheme.text.secondary},],children:"\u2192\xa0"}),(0,f.tZ)(o.cO,{css:F,children:b.substring(1).trim()})]},c):(0,f.tZ)(o.cO,{css:[F,{display:"inherit"}],children:b},c)}var D=(0,b.iv)("li &{margin-top:",a.spacing[4],"px;display:flex;}"),E=(0,b.iv)("user-select:none;"),F=(0,b.iv)("display:inline-block;line-height:140%;background-color:transparent;border:none;color:",a.darkTheme.text.default,";")},5340:function(f,b,a){"use strict";a.r(b),a.d(b,{default:function(){return e},headings:function(){return d},meta:function(){return c}});var g=a(99534);a(67294);var h=a(3905),i=a(67394),j=a(6551),k=a(18722),c={title:"Picking an image"},d=[{depth:2,type:"text",title:"Installing expo-image-picker"},{depth:2,type:"text",title:"Picking an image"},{depth:2,type:"text",title:"Using the selected image"}],l={meta:c,headings:d};function e(a){var b=a.components,c=(0,g.Z)(a,["components"]);return(0,h.kt)("wrapper",Object.assign({},l,c,{components:b,mdxType:"MDXLayout"}),(0,h.kt)("p",null,"So far we have been using code from React and React Native in our app. React gives us a nice way to build components and React Native gives us pre-built components that work on iOS, Android, and web ","\u2014"," like ",(0,h.kt)("inlineCode",{parentName:"p"},"View"),", ",(0,h.kt)("inlineCode",{parentName:"p"},"Text"),", ",(0,h.kt)("inlineCode",{parentName:"p"},"TouchableOpacity"),". React Native does ",(0,h.kt)("em",{parentName:"p"},"not")," provide us with an image picker. For this, we can use an Expo library called ",(0,h.kt)("a",Object.assign({parentName:"p"},{href:"/../../../../../../../versions/latest/sdk/imagepicker"}),"expo-image-picker"),":"),(0,h.kt)("blockquote",null,(0,h.kt)("p",{parentName:"blockquote"},(0,h.kt)("strong",{parentName:"p"},(0,h.kt)("inlineCode",{parentName:"strong"},"expo-image-picker"))," provides access to the system's UI for selecting images and videos from the phone's library or taking a photo with the camera.")),(0,h.kt)("h2",Object.assign({},{id:"installing-expo-image-picker"}),"Installing expo-image-picker"),(0,h.kt)("p",null,"To use ",(0,h.kt)("inlineCode",{parentName:"p"},"expo-image-picker")," in our project, we first need to install it. In your project directory, run the following command:"),(0,h.kt)(k.o,{cmd:["$ npx expo install expo-image-picker"],mdxType:"Terminal"}),(0,h.kt)("p",null,"This will tell npm (or yarn) to install a version of the ",(0,h.kt)("inlineCode",{parentName:"p"},"expo-image-picker")," library that is compatible with your project."),(0,h.kt)("h2",Object.assign({},{id:"picking-an-image"}),"Picking an image"),(0,h.kt)("p",null,"With the library installed in our project, we can now actually use it."),(0,h.kt)(i.Z,{label:"Image picker",templateId:"tutorial/image-picker-log",dependencies:["expo-image-picker"],mdxType:"SnackInline"},(0,h.kt)("pre",null,(0,h.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"import React from 'react';\nimport { Image, StyleSheet, Text, TouchableOpacity, View } from 'react-native';\n/* @info Import the ImagePicker */import * as ImagePicker from 'expo-image-picker';/* @end */\n\n\nexport default function App() {\n  /* @info Request permissions to access the \"camera roll\", then launch the picker and log the result. */\n  let openImagePickerAsync = async () => {\n    let permissionResult = await ImagePicker.requestMediaLibraryPermissionsAsync();\n\n    if (permissionResult.granted === false) {\n      alert(\"Permission to access camera roll is required!\");\n      return;\n    }\n\n    let pickerResult = await ImagePicker.launchImageLibraryAsync();\n    console.log(pickerResult);\n  }\n  /* @end */\n\n  return (\n    <View style={styles.container}>\n      <Image source={{ uri: 'https://i.imgur.com/TkIrScD.png' }} style={styles.logo} />\n      <Text style={styles.instructions}>\n        To share a photo from your phone with a friend, just press the button below!\n      </Text>\n\n      <TouchableOpacity onPress={/* @info This function is a bit long so we moved it out to a variable */openImagePickerAsync/* @end */} style={styles.button}>\n        <Text style={styles.buttonText}>Pick a photo</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n"))),(0,h.kt)("br",null),(0,h.kt)("p",null,"You should see something like this when you run your app and use the picker:"),(0,h.kt)(j.Z,{file:"tutorial/cli-logs.mp4",mdxType:"Video"}),(0,h.kt)("blockquote",null,(0,h.kt)("p",{parentName:"blockquote"},'You can see the logs in your expo-cli terminal session or in the browser-based developer tools if you prefer it. To see the logs in Snack, press "Logs" in the footer.')),(0,h.kt)("h2",Object.assign({},{id:"using-the-selected-image"}),"Using the selected image"),(0,h.kt)("p",null,"Now we will take the data that we get from the image picker and use it to show the selected image in the app."),(0,h.kt)(i.Z,{label:"Image picker show image",templateId:"tutorial/image-picker-show",dependencies:["expo-image-picker"],mdxType:"SnackInline"},(0,h.kt)("pre",null,(0,h.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"/* @info Import React to use useState */import React from 'react';/* @end */\nimport { Image, StyleSheet, Text, TouchableOpacity, View } from 'react-native';\nimport * as ImagePicker from 'expo-image-picker';\n\nexport default function App() {\n  /* @info Initialize a variable to hold our selected image data */const [selectedImage, setSelectedImage] = React.useState(null);/* @end */\n\n\n  let openImagePickerAsync = async () => {\n    let permissionResult = await ImagePicker.requestMediaLibraryPermissionsAsync();\n\n    if (permissionResult.granted === false) {\n      alert('Permission to access camera roll is required!');\n      return;\n    }\n\n    let pickerResult = await ImagePicker.launchImageLibraryAsync();\n\n    /* @info Stop running the function here if the user cancelled the dialog */\n    if (pickerResult.cancelled === true) {\n      return;\n    }/* @end */\n\n\n    /* @info Store away the picked image uri */setSelectedImage({ localUri: pickerResult.uri });/* @end */\n\n  };\n\n  /* @info Show the selected image if we have one */\n  if (selectedImage !== null) {\n    return (\n      <View style={styles.container}>\n        <Image\n          source={{ uri: selectedImage.localUri }}\n          style={styles.thumbnail}\n        />\n      </View>\n    );\n  }/* @end */\n\n\n  return (\n    <View style={styles.container}>\n      {/* Our logo, instructions, and picker button are hidden here to keep the example brief */}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  /* Other styles hidden to keep the example brief... */\n  /* @info We're giving the selected image a fixed width and height */\n  thumbnail: {\n    width: 300,\n    height: 300,\n    resizeMode: \"contain\"\n  }/* @end */\n\n});\n"))),(0,h.kt)("br",null),(0,h.kt)("p",null,"Your app should now look and behave like this:"),(0,h.kt)(j.Z,{file:"tutorial/picker-show.mp4",mdxType:"Video"}),(0,h.kt)("blockquote",null,(0,h.kt)("p",{parentName:"blockquote"},"\uD83D\uDC40 You might expect that because we gave our image an equal width and height it would be a square, but in the above video it's rectangular. This is because of ",(0,h.kt)("inlineCode",{parentName:"p"},"resizeMode"),", an image style property that lets us control how the image is resized to fit the given dimensions. Try switching it from ",(0,h.kt)("inlineCode",{parentName:"p"},"contain")," to ",(0,h.kt)("inlineCode",{parentName:"p"},"stretch")," or ",(0,h.kt)("inlineCode",{parentName:"p"},"cover")," to see other behaviors.")),(0,h.kt)("p",null,"We have made great progress! Up next, ",(0,h.kt)("a",Object.assign({parentName:"p"},{href:"/../../../../../../../tutorial/sharing"}),"let's make it possible to share the image"),"."))}e.isMDXComponent=!0},4147:function(a){"use strict";a.exports={i8:"46.0.0"}}},function(a){a.O(0,[16135,49774,92888,40179],function(){var b;return a(a.s=51672)}),_N_E=a.O()}])